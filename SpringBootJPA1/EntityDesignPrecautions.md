# Entity Design Precautions
## 엔티티는 가급적 Setter를 사용하지 말자
<pre>
Setter가 모두 열려있으면 변경 포인트가 너무 많아서, 유지보수가 어렵다(나중에 리펙토링으로 Seeter 제거)
</pre>
## 모든 연관관계는 지연로딩으로 설정
<pre>
<b>즉시 로딩(EAGER)</b>이란 객체 A를 조회할 때 A와 연관된 객체들을 한 번에 가져오는 것이다.
<b>지연 로딩(LAZY)</b>이란 객체 A를 조회할 때는 A만 가져오고 연관된 애들은 저번 게시글에서 본 프락시 초기화 방법으로 가져온다.

즉시로딩(EAGER)은 예측이 어렵고, 어떤 SQL이 실행될지 추적하기 어렵다. 특히 JPQL을 실행할 때 N+1 문제가 자주 발생한다.
실무에서 <b>모든 연관관계는 지연로딩(LAZY)으로 설정</b>해야 한다.
연관된 엔티티를 함께 DB에서 조회해야 하면, <b>fetch join 또는 엔티티 그래프 기능을 사용하여 한 번에 데이터를 가져올 수 있다.</b>

@xxxToMany 처럼 Many로 끝나는 관계는 기본 값이 지연로딩(LAZY)이다.
@xxxToOne 처럼 <b>One으로 끝나는 관계는 기본 값으로 즉시로딩(EAGER)</b>이므로 직접 지연로딩(LAZY)으로 변경해야 한다.


</pre>